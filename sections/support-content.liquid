{{ 'section-support.css' | asset_url | stylesheet_tag }}

{%- liquid
  paginate collections.all.products by 1000
    for product in collections.all.products
      assign product_id = product.id | append: ''

      if product_id == page.metafields.custom.associated_product_id
        assign this_product = product
      endif
    endfor
  endpaginate
-%}

<section class="support">
  <div class="content-container rich-text--full-width content-container--full-width">
    <!-- opening for gate -->
    {% assign my_switch = product.metafields.sf_gates.walk_thru_door %}
    {% assign min_opening_size = product.metafields.sf_gates.min_opening_size %}
    {% assign max_opening_size = product.metafields.sf_gates.max_opening_size %}
    {% assign opening_type = product.metafields.sf_gates.opening_type_s_ %}
    {% assign use_case = product.metafields.sf_gates.use_case | split: ',' %}
    {% assign my_tags = product.metafields.sf_gates.mount_type | split: ',' %}
    {% if min_opening_size and max_opening_size and my_tags.size > 0 %}
      <div class="left-column-data pdp-child-info">
        <button class="accordion">
          <h3>Gate Specifications</h3>
        </button>
        <!-- <div class="feature_divider"></div> -->
        <div class="panel">
          <div class="row">
            <div class="five columns">
              <h5>Opening Size Min</h5>
              {{ min_opening_size }} inches
            </div>
            <div class="five columns">
              <h5>Opening Size Max</h5>
              {{ max_opening_size }} inches
            </div>
            <div class="five columns">
              <h5>Mount Type</h5>
              {% for tag in my_tags %}
                {{ tag -}}
                {%- if tag != my_tags.last %},{% endif %}
              {% endfor %}
            </div>
          </div>
          <div class="row">
            <div class="five columns">
              <h5>Opening Type</h5>
              {{ opening_type }}
            </div>
            <div class="five columns">
              <h5>Use Cases</h5>
              {% for tag in use_case %}
                {{ tag -}}
                {%- if tag != use_case.last %},{% endif %}
              {% endfor %}
            </div>
            <div class="five columns">
              <h5>Walk-Thru Door</h5>
              {% if my_switch == 1 %}
                Yes
              {% else %}
                No
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    {% endif %}
    <h2>{{ section.settings.support_heading }}</h2>

    <div class="flex-row">
      {% if this_product.metafields.sf_products.child_weight_min %}
        <div class="flex-item">
          <h3>Weight</h3>
          {{ this_product.metafields.sf_products.child_weight_min }} -
          {{ this_product.metafields.sf_products.child_weight_max }} lbs
        </div>
      {% endif %}

      {% if this_product.metafields.sf_products.child_height_min %}
        <div class="flex-item">
          <h3>Height</h3>
          {{ this_product.metafields.sf_products.child_height_min }} -
          {{ this_product.metafields.sf_products.child_height_max }} in
        </div>
      {% endif %}
    </div>
  </div>
  Car Seat Specificications
  <div class="flex-row">
    <div class="flex-item">
      <h3>Steel Reinforced</h3>
      {{ this_product.metafields.sf_car_seat.steel_reinforced }}
    </div>
  </div>
  What's in the box
  <div class="flex-row">
    <div class="flex-item">
      <h3>Contents</h3>
      {{ this_product.metafields.sf_products.retail_package_contents }}
    </div>

    <div class="flex-item">
      <h3>Product Dimensions</h3>
      <p>
        {{ this_product.metafields.sf_products.assembled_width }} x
        {{ this_product.metafields.sf_products.assembled_height }} x
        {{ this_product.metafields.sf_products.assembled_depth }} in
      </p>
    </div>

    <div class="flex-item">
      <h3>Folded Dimensions</h3>
      {{ product.metafields.sf_products.folded_dimensions }}
    </div>
    <div class="flex-item">
      <h3>Package Dimensions</h3>
      <p>
        {{ this_product.metafields.sf_shipping.package_width }} x
        {{ this_product.metafields.sf_shipping.package_height }} x
        {{ this_product.metafields.sf_shipping.package_depth }} in
      </p>
    </div>
    <div class="flex-item">
      <h3>Product Weight</h3>
      <p>{{ this_product.metafields.sf_products.assembled_weight }} lbs.</p>
    </div>
    <div class="flex-item">
      <h3>Package Weight</h3>
      <p>{{ this_product.metafields.sf_products.assembled_weight }} lbs.</p>
    </div>
    <div class="flex-item">
      <h3>Weight w/o Base</h3>
      <p>{{ this_product.metafields.sf_car_seat.carrier_weight_without_base }} lbs.</p>
    </div>
  </div>

  <h3>Harness Type</h3>
  <p>
    {{ this_product.metafields.sf_products.harness_type }}
  </p>
</section>

{% schema %}
{
  "name": "Support Information",
  "class": "support",
  "settings": [
    {
      "type": "text",
      "id": "support_heading",
      "label": "Support Heading",
      "default": "Support"
    }
  ],
  "presets": [
    {
      "name": "Support Information"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
