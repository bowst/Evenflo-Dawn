{{ 'section-evenflo-faq-hero.css' | asset_url | stylesheet_tag }}

  <section class="container">
    <h1>{{ section.settings.popularQuestionTitle }}</h1>

      {% assign productsToShow= section.settings.popularQuestionRange%}
      
    <!-- Block 4: Products -->
    <div id="productsContainer" class="block products-container" data-products-to-show="{{ productsToShow }}">
      {{ productsToShow}}
        <div class="product">
            <h2>Product 1</h2>
            <p>Price: $10</p>
        </div>
        
    </div>


</section>

<script>

    document.addEventListener('DOMContentLoaded', function() {
      alert(65444);
      console.log('evenFloFAQURL: '+ evenFloFAQURL)
 
        fetch(evenFloFAQURL+'get_products')
            .then(response => response.json())
            .then(data => {
                const container = document.getElementById('products-container');
    
        
                data.products.forEach(product => {
                    const productDiv = document.createElement('div');
                    productDiv.classList.add('product');
                    
                    const productTitle = document.createElement('h2');
                    productTitle.textContent = product.name;
                    productDiv.appendChild(productTitle);
                    
                    const productPrice = document.createElement('p');
                    productPrice.textContent = `Price: $${product.price}`;
                    productDiv.appendChild(productPrice);
                    
                    container.appendChild(productDiv);
                });
            })
            .catch(error => console.error('Error fetching products:', error));
    });</script>







{% schema %}
{
  "name": "EvenFlo FAQ Popular",
  "tag": "section",
  "class": "popularQuestion",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "popularQuestionTitle",
      "label": "Popular Question Title",
      "default":"Popular Questions"
    },
    {
        "type": "range",
        "id": "popularQuestionRange",
        "label": "Number of questions to show",
        "default":1,
        "min": 1,
        "max": 3
      }
  ],
  "presets": [
    {
      "name": "EvenFlo FAQ Popular",
      "blocks": [
        
      ]
    }
  ]
  
}
{% endschema %}