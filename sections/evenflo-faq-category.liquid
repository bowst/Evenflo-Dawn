
{% comment %} 
  <section class="container">
    <h1>{{ section.settings.faqCategoryTitle }}</h1>

      {% assign categories_to_show= section.settings.faqCategoriesRange%}
      
    <div id="categoriesContainer" class="block category-container" data-categories-to-show="{{ categories_to_show }}">
      {{ categories_to_show}}
        <div class="categories">
            <h2>category 1</h2>
            <p>Price: $10</p>
        </div>
        
    </div>

</section> {% endcomment %}
{% assign categories_to_show= section.settings.faqCategoriesRange%}

<div class="category-block">
  <div class="category-content-wrapper page-width">
    <div class="heading center">
      <h1>{{ section.settings.faqCategoryTitle }}</h1>
    </div>
    <div class="category-tab-wrapper">
      <div id="categoriesContainer" class="tab-header" data-categories-to-show="{{ categories_to_show }}">
         {% comment %} <button class="active">Car Seats</button>
        <button>Strollers</button>
        <button>Travel Systems</button>
        <button>High Chairs</button>
        <button>Carriers</button>
        <button>Exersaucer</button>
        <button>Rollplay</button>
        <button>Baby Proofing</button>
        <button>Baby Gates</button>
        <button>Baby Health</button>  {% endcomment %}
      </div>
      <div class="tab-body">
        <div class="tab-content-wrapper">
          <div class="tab-card">
            <div class="tab-img">
              <img
                src="https://www.evenflo.com/cdn/shop/files/kmpmonvfgbc0jh2grxil.jpg?v=1701111329&amp;width=720"
                alt="tab-img"
              />
            </div>
            <div class="tab-content">
              <h4>Shyft Dualride</h4>
            </div>
          </div>
          <div class="tab-card">
            <div class="tab-img">
              <img
                src="https://www.evenflo.com/cdn/shop/files/kmpmonvfgbc0jh2grxil.jpg?v=1701111329&amp;width=720"
                alt="tab-img"
              />
            </div>
            <div class="tab-content">
              <h4>Shyft Dualride</h4>
            </div>
          </div>
          <div class="tab-card">
            <div class="tab-img">
              <img
                src="https://www.evenflo.com/cdn/shop/files/kmpmonvfgbc0jh2grxil.jpg?v=1701111329&amp;width=720"
                alt="tab-img"
              />
            </div>
            <div class="tab-content">
              <h4>Shyft Dualride</h4>
            </div>
          </div>
          <div class="tab-card">
            <div class="tab-img">
              <img
                src="https://www.evenflo.com/cdn/shop/files/kmpmonvfgbc0jh2grxil.jpg?v=1701111329&amp;width=720"
                alt="tab-img"
              />
            </div>
            <div class="tab-content">
              <h4>Shyft Dualride</h4>
            </div>
          </div>
          <div class="tab-card">
            <div class="tab-img">
              <img
                src="https://www.evenflo.com/cdn/shop/files/kmpmonvfgbc0jh2grxil.jpg?v=1701111329&amp;width=720"
                alt="tab-img"
              />
            </div>
            <div class="tab-content">
              <h4>Shyft Dualride</h4>
            </div>
          </div>
          <div class="tab-card">
            <div class="tab-img">
              <img
                src="https://www.evenflo.com/cdn/shop/files/kmpmonvfgbc0jh2grxil.jpg?v=1701111329&amp;width=720"
                alt="tab-img"
              />
            </div>
            <div class="tab-content">
              <h4>Shyft Dualride</h4>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script>
  function getPaginatedCategories() {
    fetch(evenFloFAQURL + 'products/getPaginatedCategories?page_size=10&page=1')
      .then(response => response.json())
      .then(data => {
        const container = document.querySelector('.tab-header');
        const categoriesBlock = document.getElementById('categoriesContainer');
        const blocksToShow = categoriesBlock ? categoriesBlock.dataset.categoriesToShow : 3;

        alert(blocksToShow);

        container.innerHTML = ""; // Clear the container once before the loop

        data.results.slice(0, blocksToShow).forEach((category, index) => {
          const categoryTag = document.createElement('button');
    
         const isActive = index === 0 ? "active" : "";
         categoryTag.classList.add(isActive);

         categoryTag.innerHTML=${category?.category_name};
          container.appendChild(categoryTag);
        });
      })
      .catch(error => console.error('Error fetching categories:', error));
  }

  document.addEventListener('DOMContentLoaded', () => {
    alert(1);
    getPaginatedCategories();
  });
</script>






{% schema %}
{
  "name": "EvenFlo FAQ Category",
  "tag": "section",
  "class": "faqCategory",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "faqCategoryTitle",
      "label": "FAQ Categories Title",
      "default":"Categories"
    },
    {
        "type": "range",
        "id": "faqCategoriesRange",
        "label": "Categories to show",
        "default":5,
        "min": 1,
        "max": 6,
        "step": 1
      }
  ],
  "presets": [
    {
      "name": "EvenFlo FAQ Category",
      "blocks": [
        
      ]
    }
  ]
  
}
{% endschema %}